/* Red Snipper â€” modern minimal styles */
:root{
	/* colourful palette */
	--bg: linear-gradient(180deg,#fff7fb,#f3fbff);
	--card: #ffffff;
	--muted: #6b7280;
	--text: #08101a;
	--accent: #7c3aed; /* violet */
	--accent-2: #06b6d4; /* cyan */
	--accent-3: #f59e0b; /* amber */
	--accent-4: #ef4444; /* red */
	--accent-5: #10b981; /* green */
	--border: rgba(10,20,40,0.06);
	--glass: rgba(255,255,255,0.85);
}
*{box-sizing:border-box}
html,body,#map{height:100%}
body{
	margin:0;
	font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
	background: var(--bg);
	color:var(--text);
	-webkit-font-smoothing:antialiased;
}

.app{display:flex;height:100vh;overflow:hidden}

.sidebar{width:320px;background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(250,250,255,0.7));backdrop-filter:blur(6px);border-right:1px solid var(--border);display:flex;flex-direction:column;box-shadow:0 10px 30px rgba(10,20,40,0.04)}
.brand{display:flex;gap:12px;align-items:center;padding:18px 20px;border-bottom:1px solid var(--border)}
.brand-logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;font-size:1.05rem;box-shadow:0 8px 30px rgba(124,58,237,0.12)}
.brand h1{font-size:1.25rem;margin:0}
.brand .subtitle{font-size:0.86rem;color:var(--muted);margin-top:4px}

.controls{padding:14px 18px;border-bottom:1px solid var(--border)}
.controls-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:0;padding:10px 12px;border-radius:12px;cursor:pointer;font-weight:700;box-shadow:0 8px 30px rgba(124,58,237,0.12)}
.btn-ghost{background:transparent;color:var(--text);border:1px solid var(--border);padding:8px 10px;border-radius:10px}
.btn-group{display:flex;gap:10px}

/* locate button small tweak */
#btn-locate{font-size:1.05rem}

/* user location marker pulsing (Leaflet marker will use this class) */
.user-location-outer{width:18px;height:18px;border-radius:50%;background:rgba(32,201,151,0.18);display:inline-block;border:2px solid rgba(32,201,151,0.9);box-shadow:0 0 0 rgba(32,201,151,0.9);}
.user-location-inner{width:8px;height:8px;border-radius:50%;background:rgba(32,201,151,0.95);margin:4px auto}
#btn-locate{font-size:1.05rem}

/* Floating controls and cluster customizations removed to avoid click interception and restore default behavior */
.btn-sm{padding:6px 10px}

.search input{width:100%;padding:12px 14px;border-radius:12px;border:1px solid var(--border);outline:none;background:transparent}
.search input:focus{box-shadow:0 12px 34px rgba(6,182,212,0.08);border-color:var(--accent-2)}

.legend{margin-top:12px;padding-top:8px}
.legend-title{font-size:0.88rem;color:var(--muted);margin-bottom:8px;font-weight:700}
.legend-items{display:flex;flex-direction:column;gap:8px}
.legend-dot{width:14px;height:14px;border-radius:50%;display:inline-block;margin-right:10px}
.legend-dot.suitable{background:var(--accent-5)}
.legend-dot.less{background:var(--accent-3)}
.legend-dot.unsuitable{background:var(--accent-4)}

.location-panel{flex:1;overflow:auto;padding:12px}
.location-panel h3{margin:8px 0 12px;font-size:1rem;color:var(--muted);text-transform:uppercase;letter-spacing:0.6px}
#location-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px}
.location-item{background:linear-gradient(180deg,rgba(255,255,255,0.8),var(--card));padding:14px;border-radius:14px;border:1px solid var(--border);display:flex;flex-direction:column;align-items:flex-start;cursor:pointer}
.location-item .meta{font-size:0.92rem;color:var(--muted);margin-top:8px}
.location-item:hover{transform:translateX(6px);box-shadow:0 12px 30px rgba(8,16,26,0.06)}
.location-item.active{border-color:rgba(124,58,237,0.12);box-shadow:0 12px 34px rgba(124,58,237,0.06)}
.badge{padding:6px 12px;border-radius:999px;font-weight:700;font-size:0.85rem}
.badge.suitable{background:rgba(16,185,129,0.12);color:var(--accent-5)}
.badge.less{background:rgba(245,158,11,0.12);color:var(--accent-3)}
.badge.unsuitable{background:rgba(239,68,68,0.10);color:var(--accent-4)}

.sidebar-footer{padding:12px 18px;border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.small{font-size:0.8rem;color:var(--muted)}

.map-area{flex:1;position:relative;display:flex;flex-direction:column}
#map{flex:1}
.info-card{position:absolute;right:18px;bottom:18px;background:linear-gradient(180deg,var(--card),rgba(255,255,255,0.96));padding:14px;border-radius:12px;border:1px solid var(--border);width:320px;box-shadow:0 30px 70px rgba(8,16,26,0.08);overflow:hidden}
.info-card:before{content:'';display:block;height:6px;background:linear-gradient(90deg,var(--accent),var(--accent-2));margin:-14px -14px 10px;border-top-left-radius:12px;border-top-right-radius:12px}
.info-card p{margin:0;color:var(--text)}
.info-card p{margin:0}

/* Modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,6,23,0.45), rgba(2,6,23,0.55))}
.modal[aria-hidden="false"]{display:flex}
.modal-panel{background:var(--card);padding:18px;border-radius:14px;width:min(760px,95%);position:relative;box-shadow:0 30px 80px rgba(8,16,26,0.14)}
.modal-close{position:absolute;right:12px;top:12px;border:0;background:transparent;font-size:18px;cursor:pointer}

/* marker dot (divicon) */
.marker-dot{width:16px;height:16px;border-radius:50%;display:block;border:3px solid rgba(255,255,255,0.95);box-shadow:0 6px 18px rgba(2,6,23,0.12)}
.marker-dot.suitable{background:var(--accent-5);box-shadow:0 6px 18px rgba(16,185,129,0.18)}
.marker-dot.less{background:var(--accent-3);box-shadow:0 6px 18px rgba(245,158,11,0.12)}
.marker-dot.unsuitable{background:var(--accent-4);box-shadow:0 6px 18px rgba(239,68,68,0.12)}

/* Dark theme */
/* Dark theme */
body.theme-dark{--bg:linear-gradient(180deg,#021124,#071428);--card:#06111a;--muted:#9aa7b7;--text:#e6eef6;--border:rgba(255,255,255,0.04)}
body.theme-dark .btn{background:#374151}
body.theme-dark .btn-ghost{background:transparent;color:var(--text)}
body.theme-dark .info-card{box-shadow:0 20px 50px rgba(2,6,23,0.6)}

/* Removed theme presets; keep only light/dark toggle */

@media (max-width:900px){
	.sidebar{width:100%;height:44vh;position:relative;z-index:9999}
	.map-area{height:56vh}
	.info-card{right:12px;width:260px}
}

/* Intro overlay styles */
.intro-overlay{
	position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(4,10,20,0.6), rgba(4,10,20,0.4));z-index:99999;
	animation:fadeIn .28s ease both;
}
.intro-panel{background:rgba(255,255,255,0.98);padding:28px;border-radius:12px;max-width:520px;text-align:center;box-shadow:0 20px 60px rgba(2,6,23,0.18)}
.intro-panel h2{margin:0 0 8px;font-size:1.4rem}
.intro-panel p{color:var(--muted);margin:0 0 18px}
.intro-panel .btn{padding:10px 18px;border-radius:10px;font-size:1rem}

@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

@media (max-width:560px){
	.intro-panel{padding:18px;margin:12px}
	.brand-logo{width:40px;height:40px}
}

/* New split intro layout */
.intro-split{display:grid;grid-template-columns:1fr 1.2fr;gap:18px;align-items:center}
.intro-left{display:flex;flex-direction:column;align-items:center;gap:12px}
.intro-preview{border-radius:10px;overflow:hidden}
.intro-stats{display:flex;gap:12px;color:var(--muted);font-weight:600}
.intro-stats div{background:linear-gradient(180deg,rgba(0,0,0,0.02),transparent);padding:8px 10px;border-radius:8px}
.intro-right h2{margin-top:0}
.intro-right .muted{color:var(--muted);margin-top:6px}
.intro-tabs{margin-top:12px}
.tab-controls{display:flex;gap:8px;margin-bottom:10px}
.tab-btn{padding:8px 12px;border-radius:8px;border:1px solid var(--border);background:transparent;cursor:pointer}
.tab-btn.active{background:linear-gradient(90deg,rgba(217,67,48,0.12),rgba(255,122,102,0.08));border-color:rgba(217,67,48,0.12)}
.tab-content{background:linear-gradient(180deg,rgba(0,0,0,0.02),transparent);padding:12px;border-radius:8px}
.tab-pane h3{margin:0 0 6px}
.intro-actions{display:flex;gap:8px;margin-top:14px;flex-wrap:wrap}
.intro-actions .btn{min-width:140px}
.intro-actions .btn-ghost{background:transparent;border:1px solid var(--border)}

@media (max-width:760px){
	.intro-split{grid-template-columns:1fr;}
	.intro-left{order:2}
	.intro-right{order:1}
	.intro-actions .btn{min-width:120px}
}

/* Map spinner */
.map-spinner{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:10px;background:rgba(255,255,255,0.92);padding:14px;border-radius:10px;box-shadow:0 14px 40px rgba(2,6,23,0.12);z-index:99999}
.map-spinner[aria-hidden="true"]{display:none}
.spinner-ring{width:48px;height:48px;border-radius:50%;border:4px solid rgba(0,0,0,0.08);border-top-color:var(--accent);animation:spin 1s linear infinite}
.spinner-label{font-size:0.95rem;color:var(--muted)}

@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

/* Modal image */
.modal-panel img{max-width:100%;height:auto;border-radius:8px;display:block;margin:8px 0}
.modal-panel .caption{color:var(--muted);font-size:0.92rem}
